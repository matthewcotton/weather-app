(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(11),s=a.n(i),o=(a(91),a(23)),d=a(24),l=a(54),u=a(52),j=a(47),h=a.n(j);var m=function(){return"0a946960ed9c8a758bd296209b592532"},x=function(){function e(){Object(o.a)(this,e)}return Object(d.a)(e,[{key:"status",value:function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}},{key:"getRequest",value:function(e){return h.a.get(e).then(this.status).catch((function(e){console.error(e),alert(e)}))}},{key:"getWeather",value:function(e,t){return this.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=").concat("minutely,hourly,alerts","&units=metric&appid=").concat(m()))}}]),e}();var b=function(){return"3234ac1ece074372ae5030d3e2fdc5ee"},p=function(){function e(){Object(o.a)(this,e)}return Object(d.a)(e,[{key:"status",value:function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}},{key:"getRequest",value:function(e){return h.a.get(e).then(this.status).catch((function(e){console.error(e),alert(e)}))}},{key:"getGeoRev",value:function(e,t){return this.getRequest("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,",").concat(t,"&key=").concat(b()))}},{key:"getGeoFwd",value:function(e){return this.getRequest("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"&key=").concat(b()))}}]),e}();function O(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],n=new Date(Date.now()),c=t[n.getDay(n)],r=[];return e.slice(0,7).map((function(e,n){var i=n,s=new Date(1e3*parseInt(e.dt)),o=t[s.getDay(s)];o=o===c?"Today":o;var d=a[s.getMonth(s)]+" "+s.getDate(s),l="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),u=e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1,e.weather[0].description.length),j=Math.round(e.temp.max)+"\xb0C",h=Math.round(e.temp.min)+"\xb0C",m=Math.round(10*e.wind_speed)/10+"m/s",x=String("rotate("+e.wind_deg+"deg)");r.push({key:i,nameDay:o,monthDate:d,icon:l,description:u,maxTemp:j,minTemp:h,windSpeed:m,windDirRot:x})})),r}var g=a(153),f=a(155),v=a(157),y=a(158),w=a(74),D=a.n(w),k=Object(g.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var S=function(e){var t=k();return Object(n.jsx)(f.a,{item:!0,xs:11,sm:6,md:4,lg:3,xl:2,children:Object(n.jsxs)(v.a,{className:t.paper,elevation:5,children:[Object(n.jsxs)(f.a,{container:!0,children:[Object(n.jsxs)(f.a,{item:!0,xs:6,container:!0,spacing:0,direction:"column",alignItems:"flex-start",children:[Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"h5",gutterBottom:!0,children:e.dayName})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body2",gutterBottom:!0,children:e.monthDate})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:e.detailedDesc})})]}),Object(n.jsx)(f.a,{item:!0,xs:6,container:!0,justify:"center",children:Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)("img",{className:"weather-icon",src:e.icon,alt:"Icon for "+e.detailedDesc})})})]}),Object(n.jsxs)(f.a,{container:!0,children:[Object(n.jsxs)(f.a,{item:!0,xs:6,container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:"Min Temp"})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:e.minTemp})})]}),Object(n.jsxs)(f.a,{item:!0,xs:6,container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:"Max Temp"})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:e.maxTemp})})]})]}),Object(n.jsxs)(f.a,{item:!0,xs:12,container:!0,children:[Object(n.jsxs)(f.a,{item:!0,xs:6,container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:"Wind Speed"})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:e.windSpeed})})]}),Object(n.jsxs)(f.a,{item:!0,xs:6,container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"body1",gutterBottom:!0,children:"Wind Direction"})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{variant:"caption",gutterBottom:!0,children:"N"})}),Object(n.jsx)(f.a,{item:!0,xs:!0,children:Object(n.jsx)(D.a,{style:{transform:e.windDir}})})]})]})]})})},T=Object(g.a)((function(){return{root:{flexGrow:1}}}));var B=function(e){var t=T();return Object(n.jsx)("div",{className:t.root,style:{padding:15},children:Object(n.jsx)(f.a,{container:!0,spacing:3,justify:"center",children:e.weatherInfo.map((function(e){return Object(n.jsx)(S,{dayName:e.nameDay,monthDate:e.monthDate,icon:e.icon,detailedDesc:e.description,maxTemp:e.maxTemp,minTemp:e.minTemp,windSpeed:e.windSpeed,windDir:e.windDirRot},e.key)}))})})},C=(a(117),a(61)),N=a(37),I=(a(73),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(N.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(n.jsx)(N.a.Brand,{children:"Weather App"}),Object(n.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(N.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsx)(C.a,{className:"mr-auto"}),Object(n.jsx)(C.a,{children:Object(n.jsx)(N.a.Text,{className:"nav-link",children:Object(n.jsx)("a",{href:"https://www.matthewcotton.dev/#/projects",children:"Back to Portfolio"})})})]})]})}}]),a}(r.a.Component)),A=a(160),M=Object(g.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var W=function(e){var t=M();return Object(n.jsxs)(f.a,{container:!0,children:[Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{className:t.paper,children:Object(n.jsx)(y.a,{variant:"h3",children:"7 Day Weather Forecast"})})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{className:t.paper,children:Object(n.jsx)(y.a,{variant:"h5",gutterBottom:!0,children:e.loadingStatus})})})]})},L=a(75),F=a(159),R=a(161),q=Object(g.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary},form:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var P=function(e){var t=q(),a=Object(c.useState)(""),r=Object(L.a)(a,2),i=r[0],s=r[1];return Object(n.jsx)("div",{className:t.root,style:{padding:15},children:Object(n.jsxs)(f.a,{container:!0,spacing:3,children:[Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{textAlign:"center",children:Object(n.jsxs)("form",{className:t.form,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),e.onsubmit(i),s("")},children:[Object(n.jsx)(F.a,{id:"location-search",label:"Search",type:"search",value:i,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)(R.a,{variant:"outlined",type:"submit",value:"Submit",children:"Search"})]})})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{textAlign:"left",children:Object(n.jsxs)(y.a,{className:t.paper,children:["Current Location:"," "+e.locationData.formatted]})})})]})})},G=(a(121),a(56)),J=a.n(G),E=(a(124),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={weatherData:[],weatherInfo:[],locationData:[],loading:"",placename:"Leeds"},n.weatherApiClient=new x,n.geoApiClient=new p,J.a.options={closeButton:!0,positionClass:"toast-top-center",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing"},J.a.clear(),n}return Object(d.a)(a,[{key:"searchLocation",value:function(e){var t=this;this.setState({loading:"loading..."}),this.geoApiClient.getGeoFwd(e).then((function(a){return a.data.results[0]?t.updateLocation(a.data.results[0]):J.a.error("Location ".concat(e," could not be found"),"No Search Results")})).finally((function(){t.setState({loading:""})}))}},{key:"updateLocation",value:function(e){this.setState({locationData:e}),this.fetchWeather(e.geometry.lat,e.geometry.lng)}},{key:"fetchWeather",value:function(e,t){var a=this;this.weatherApiClient.getWeather(e,t).then((function(e){return a.updateWeather(e.data.daily)}))}},{key:"updateWeather",value:function(e){this.setState({weatherData:e,weatherInfo:O(e)})}},{key:"componentDidMount",value:function(){this.searchLocation(this.state.placename)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(I,{}),Object(n.jsx)("br",{}),Object(n.jsxs)(f.a,{container:!0,children:[Object(n.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(W,{loadingStatus:this.state.loading})}),Object(n.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(P,{locationData:this.state.locationData,onsubmit:function(t){return e.searchLocation(t)}})})]}),Object(n.jsx)(B,{weatherInfo:this.state.weatherInfo})]})}}]),a}(r.a.Component)),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),_()},73:function(e,t,a){},91:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.44923297.chunk.js.map